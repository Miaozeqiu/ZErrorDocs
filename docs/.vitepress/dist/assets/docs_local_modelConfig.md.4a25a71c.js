import{_ as c,r as t,o as p,c as r,d as n,w as a,a as e,b as s,e as l}from"./app.7eedfda2.js";const b=JSON.parse('{"title":"\u6A21\u578B\u914D\u7F6E","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u5982\u4F55\u81EA\u5DF1\u7F16\u5199\u6A21\u578B\u914D\u7F6E\uFF1F","slug":"\u5982\u4F55\u81EA\u5DF1\u7F16\u5199\u6A21\u578B\u914D\u7F6E","link":"#\u5982\u4F55\u81EA\u5DF1\u7F16\u5199\u6A21\u578B\u914D\u7F6E","children":[]},{"level":2,"title":"\u7845\u57FA\u6D41\u52A8","slug":"\u7845\u57FA\u6D41\u52A8","link":"#\u7845\u57FA\u6D41\u52A8","children":[]},{"level":2,"title":"\u963F\u91CC\u4E91\u767E\u70BC","slug":"\u963F\u91CC\u4E91\u767E\u70BC","link":"#\u963F\u91CC\u4E91\u767E\u70BC","children":[]}],"relativePath":"docs/local/modelConfig.md"}'),y={name:"docs/local/modelConfig.md"},F=e('<h1 id="\u6A21\u578B\u914D\u7F6E" tabindex="-1">\u6A21\u578B\u914D\u7F6E <a class="header-anchor" href="#\u6A21\u578B\u914D\u7F6E" aria-hidden="true">#</a></h1><blockquote><p>ZError 2.0.0\u7248\u672C\u652F\u6301\u4E86\u81EA\u5B9A\u4E49\u5E73\u53F0\u4E0E\u6A21\u578B\u3002\u53EF\u4EE5\u81EA\u5DF1\u7F16\u5199\u4E00\u6BB5JavaScript\u4EE3\u7801\uFF0C\u6765\u5B9E\u73B0\u4E0E\u6A21\u578B\u7684\u4EA4\u4E92\u3002\u4E0B\u9762\u662F\u4E00\u4E9B\u5E73\u53F0\u4E0E\u6A21\u578B\u914D\u7F6E\u3002</p></blockquote><h2 id="\u5982\u4F55\u81EA\u5DF1\u7F16\u5199\u6A21\u578B\u914D\u7F6E" tabindex="-1">\u5982\u4F55\u81EA\u5DF1\u7F16\u5199\u6A21\u578B\u914D\u7F6E\uFF1F <a class="header-anchor" href="#\u5982\u4F55\u81EA\u5DF1\u7F16\u5199\u6A21\u578B\u914D\u7F6E" aria-hidden="true">#</a></h2><p>\u6A21\u578B\u914D\u7F6E\u7B80\u5355\u8BF4\u5C31\u662F\u4E00\u4E2A\u51FD\u6570\u3002\u63A5\u6536\u4E24\u4E2A\u53C2\u6570\uFF0C\u63D0\u793A\u8BCD <code>input</code>\uFF0C\u5E73\u53F0\u914D\u7F6E <code>config</code>\uFF0C\u8FD4\u56DE\u4E00\u4E2A\u5F02\u6B65\u751F\u6210\u5668\uFF0C\u6BCF\u4E2A\u8FED\u4EE3\u5668\u8FD4\u56DE\u4E00\u4E2A\u5BF9\u8C61\uFF0C\u5BF9\u8C61\u5305\u542B\u4E24\u4E2A\u5C5E\u6027\uFF0C<code>content</code> \u548C <code>finished</code>\u3002content\u662F\u6A21\u578B\u751F\u6210\u7684\u6587\u672C\uFF0Cfinished\u662F\u4E00\u4E2A\u5E03\u5C14\u503C\uFF0C\u7528\u6765\u8868\u793A\u6A21\u578B\u662F\u5426\u751F\u6210\u5B8C\u6587\u672C\u3002</p><h2 id="\u7845\u57FA\u6D41\u52A8" tabindex="-1">\u7845\u57FA\u6D41\u52A8 <a class="header-anchor" href="#\u7845\u57FA\u6D41\u52A8" aria-hidden="true">#</a></h2><blockquote><p>baseUrl : <a href="https://api.siliconflow.cn/v1/chat/completions" target="_blank" rel="noreferrer">https://api.siliconflow.cn/v1/chat/completions</a><br> \u5B98\u7F51 : <a href="https://cloud.siliconflow.cn/i/yWzlOTHL" target="_blank" rel="noreferrer">https://cloud.siliconflow.cn/i/yWzlOTHL</a><br> \u6587\u6863 : <a href="https://docs.siliconflow.cn/cn/api-reference/chat-completions/chat-completions" target="_blank" rel="noreferrer">https://docs.siliconflow.cn/cn/api-reference/chat-completions/chat-completions</a></p></blockquote>',6),D=s("div",{class:"language-javascript"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"javascript"),s("pre",{class:"shiki vp-code-dark"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#FF7B72"}},"async"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#FF7B72"}},"function"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#D2A8FF"}},"processModel"),s("span",{style:{color:"#C9D1D9"}},"("),s("span",{style:{color:"#FFA657"}},"input"),s("span",{style:{color:"#C9D1D9"}},", "),s("span",{style:{color:"#FFA657"}},"config"),s("span",{style:{color:"#C9D1D9"}},") {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"  "),s("span",{style:{color:"#8B949E"}},"// \u6784\u5EFA\u8BF7\u6C42\u6570\u636E")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"  "),s("span",{style:{color:"#FF7B72"}},"const"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#79C0FF"}},"requestData"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#FF7B72"}},"="),s("span",{style:{color:"#C9D1D9"}}," {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"    messages: input.messages,")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"    model: "),s("span",{style:{color:"#A5D6FF"}},"'deepseek-ai/DeepSeek-V3'"),s("span",{style:{color:"#C9D1D9"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"    stream: "),s("span",{style:{color:"#79C0FF"}},"true"),s("span",{style:{color:"#C9D1D9"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"    max_tokens: "),s("span",{style:{color:"#79C0FF"}},"4096"),s("span",{style:{color:"#C9D1D9"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"    temperature: "),s("span",{style:{color:"#79C0FF"}},"0.7"),s("span",{style:{color:"#C9D1D9"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"    top_p:"),s("span",{style:{color:"#79C0FF"}},"0.9")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"  };")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"  ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"  console."),s("span",{style:{color:"#D2A8FF"}},"log"),s("span",{style:{color:"#C9D1D9"}},"("),s("span",{style:{color:"#A5D6FF"}},"'SiliconFlow \u8BF7\u6C42:'"),s("span",{style:{color:"#C9D1D9"}},", requestData);")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"  ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"  "),s("span",{style:{color:"#FF7B72"}},"try"),s("span",{style:{color:"#C9D1D9"}}," {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"    "),s("span",{style:{color:"#8B949E"}},"// \u53D1\u9001\u8BF7\u6C42\u5230SiliconFlow API")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"    "),s("span",{style:{color:"#FF7B72"}},"const"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#79C0FF"}},"response"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#FF7B72"}},"="),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#FF7B72"}},"await"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#D2A8FF"}},"fetch"),s("span",{style:{color:"#C9D1D9"}},"("),s("span",{style:{color:"#A5D6FF"}},"`${"),s("span",{style:{color:"#C9D1D9"}},"config"),s("span",{style:{color:"#A5D6FF"}},"."),s("span",{style:{color:"#C9D1D9"}},"baseUrl"),s("span",{style:{color:"#A5D6FF"}},"}`"),s("span",{style:{color:"#C9D1D9"}},", {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"      method: "),s("span",{style:{color:"#A5D6FF"}},"'POST'"),s("span",{style:{color:"#C9D1D9"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"      headers: {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"        "),s("span",{style:{color:"#A5D6FF"}},"'Authorization'"),s("span",{style:{color:"#C9D1D9"}},": "),s("span",{style:{color:"#A5D6FF"}},"`Bearer ${"),s("span",{style:{color:"#C9D1D9"}},"config"),s("span",{style:{color:"#A5D6FF"}},"."),s("span",{style:{color:"#C9D1D9"}},"apiKey"),s("span",{style:{color:"#A5D6FF"}},"}`"),s("span",{style:{color:"#C9D1D9"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"        "),s("span",{style:{color:"#A5D6FF"}},"'Content-Type'"),s("span",{style:{color:"#C9D1D9"}},": "),s("span",{style:{color:"#A5D6FF"}},"'application/json'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"      },")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"      body: "),s("span",{style:{color:"#79C0FF"}},"JSON"),s("span",{style:{color:"#C9D1D9"}},"."),s("span",{style:{color:"#D2A8FF"}},"stringify"),s("span",{style:{color:"#C9D1D9"}},"(requestData)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"    });")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"    ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"    "),s("span",{style:{color:"#FF7B72"}},"if"),s("span",{style:{color:"#C9D1D9"}}," ("),s("span",{style:{color:"#FF7B72"}},"!"),s("span",{style:{color:"#C9D1D9"}},"response.ok) {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"      "),s("span",{style:{color:"#FF7B72"}},"const"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#79C0FF"}},"errorText"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#FF7B72"}},"="),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#FF7B72"}},"await"),s("span",{style:{color:"#C9D1D9"}}," response."),s("span",{style:{color:"#D2A8FF"}},"text"),s("span",{style:{color:"#C9D1D9"}},"();")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"      "),s("span",{style:{color:"#FF7B72"}},"throw"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#FF7B72"}},"new"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#D2A8FF"}},"Error"),s("span",{style:{color:"#C9D1D9"}},"("),s("span",{style:{color:"#A5D6FF"}},"`SiliconFlow API \u9519\u8BEF ${"),s("span",{style:{color:"#C9D1D9"}},"response"),s("span",{style:{color:"#A5D6FF"}},"."),s("span",{style:{color:"#C9D1D9"}},"status"),s("span",{style:{color:"#A5D6FF"}},"}: ${"),s("span",{style:{color:"#C9D1D9"}},"errorText"),s("span",{style:{color:"#A5D6FF"}},"}`"),s("span",{style:{color:"#C9D1D9"}},");")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"    }")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"    ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"    "),s("span",{style:{color:"#8B949E"}},"// \u5904\u7406\u6D41\u5F0F\u54CD\u5E94")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"    "),s("span",{style:{color:"#FF7B72"}},"const"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#79C0FF"}},"reader"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#FF7B72"}},"="),s("span",{style:{color:"#C9D1D9"}}," response.body."),s("span",{style:{color:"#D2A8FF"}},"getReader"),s("span",{style:{color:"#C9D1D9"}},"();")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"    "),s("span",{style:{color:"#FF7B72"}},"const"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#79C0FF"}},"decoder"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#FF7B72"}},"="),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#FF7B72"}},"new"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#D2A8FF"}},"TextDecoder"),s("span",{style:{color:"#C9D1D9"}},"();")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"    ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"    "),s("span",{style:{color:"#8B949E"}},"// \u8FD4\u56DE\u5F02\u6B65\u751F\u6210\u5668\u5904\u7406\u6D41\u5F0F\u6570\u636E")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"    "),s("span",{style:{color:"#FF7B72"}},"return"),s("span",{style:{color:"#C9D1D9"}}," ("),s("span",{style:{color:"#FF7B72"}},"async"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#FF7B72"}},"function*"),s("span",{style:{color:"#C9D1D9"}}," () {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"      "),s("span",{style:{color:"#FF7B72"}},"let"),s("span",{style:{color:"#C9D1D9"}}," buffer "),s("span",{style:{color:"#FF7B72"}},"="),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#A5D6FF"}},"''"),s("span",{style:{color:"#C9D1D9"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"      ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"      "),s("span",{style:{color:"#FF7B72"}},"try"),s("span",{style:{color:"#C9D1D9"}}," {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"        "),s("span",{style:{color:"#FF7B72"}},"while"),s("span",{style:{color:"#C9D1D9"}}," ("),s("span",{style:{color:"#79C0FF"}},"true"),s("span",{style:{color:"#C9D1D9"}},") {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"          "),s("span",{style:{color:"#FF7B72"}},"const"),s("span",{style:{color:"#C9D1D9"}}," { "),s("span",{style:{color:"#79C0FF"}},"done"),s("span",{style:{color:"#C9D1D9"}},", "),s("span",{style:{color:"#79C0FF"}},"value"),s("span",{style:{color:"#C9D1D9"}}," } "),s("span",{style:{color:"#FF7B72"}},"="),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#FF7B72"}},"await"),s("span",{style:{color:"#C9D1D9"}}," reader."),s("span",{style:{color:"#D2A8FF"}},"read"),s("span",{style:{color:"#C9D1D9"}},"();")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"          ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"          "),s("span",{style:{color:"#FF7B72"}},"if"),s("span",{style:{color:"#C9D1D9"}}," (done) {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"            "),s("span",{style:{color:"#FF7B72"}},"break"),s("span",{style:{color:"#C9D1D9"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"          }")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"          ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"          "),s("span",{style:{color:"#8B949E"}},"// \u89E3\u7801\u6570\u636E\u5757")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"          buffer "),s("span",{style:{color:"#FF7B72"}},"+="),s("span",{style:{color:"#C9D1D9"}}," decoder."),s("span",{style:{color:"#D2A8FF"}},"decode"),s("span",{style:{color:"#C9D1D9"}},"(value, { stream: "),s("span",{style:{color:"#79C0FF"}},"true"),s("span",{style:{color:"#C9D1D9"}}," });")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"          "),s("span",{style:{color:"#FF7B72"}},"const"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#79C0FF"}},"lines"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#FF7B72"}},"="),s("span",{style:{color:"#C9D1D9"}}," buffer."),s("span",{style:{color:"#D2A8FF"}},"split"),s("span",{style:{color:"#C9D1D9"}},"("),s("span",{style:{color:"#A5D6FF"}},"'"),s("span",{style:{color:"#79C0FF"}},"\\n"),s("span",{style:{color:"#A5D6FF"}},"'"),s("span",{style:{color:"#C9D1D9"}},");")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"          buffer "),s("span",{style:{color:"#FF7B72"}},"="),s("span",{style:{color:"#C9D1D9"}}," lines."),s("span",{style:{color:"#D2A8FF"}},"pop"),s("span",{style:{color:"#C9D1D9"}},"() "),s("span",{style:{color:"#FF7B72"}},"||"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#A5D6FF"}},"''"),s("span",{style:{color:"#C9D1D9"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"          ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"          "),s("span",{style:{color:"#FF7B72"}},"for"),s("span",{style:{color:"#C9D1D9"}}," ("),s("span",{style:{color:"#FF7B72"}},"const"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#79C0FF"}},"line"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#FF7B72"}},"of"),s("span",{style:{color:"#C9D1D9"}}," lines) {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"            "),s("span",{style:{color:"#FF7B72"}},"const"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#79C0FF"}},"trimmedLine"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#FF7B72"}},"="),s("span",{style:{color:"#C9D1D9"}}," line."),s("span",{style:{color:"#D2A8FF"}},"trim"),s("span",{style:{color:"#C9D1D9"}},"();")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"            "),s("span",{style:{color:"#FF7B72"}},"if"),s("span",{style:{color:"#C9D1D9"}}," (trimmedLine "),s("span",{style:{color:"#FF7B72"}},"==="),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#A5D6FF"}},"''"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#FF7B72"}},"||"),s("span",{style:{color:"#C9D1D9"}}," trimmedLine "),s("span",{style:{color:"#FF7B72"}},"==="),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#A5D6FF"}},"'data: [DONE]'"),s("span",{style:{color:"#C9D1D9"}},") {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"              "),s("span",{style:{color:"#FF7B72"}},"continue"),s("span",{style:{color:"#C9D1D9"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"            }")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"            ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"            "),s("span",{style:{color:"#FF7B72"}},"if"),s("span",{style:{color:"#C9D1D9"}}," (trimmedLine."),s("span",{style:{color:"#D2A8FF"}},"startsWith"),s("span",{style:{color:"#C9D1D9"}},"("),s("span",{style:{color:"#A5D6FF"}},"'data: '"),s("span",{style:{color:"#C9D1D9"}},")) {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"              "),s("span",{style:{color:"#FF7B72"}},"try"),s("span",{style:{color:"#C9D1D9"}}," {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"                "),s("span",{style:{color:"#FF7B72"}},"const"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#79C0FF"}},"jsonStr"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#FF7B72"}},"="),s("span",{style:{color:"#C9D1D9"}}," trimmedLine."),s("span",{style:{color:"#D2A8FF"}},"slice"),s("span",{style:{color:"#C9D1D9"}},"("),s("span",{style:{color:"#79C0FF"}},"6"),s("span",{style:{color:"#C9D1D9"}},");")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"                "),s("span",{style:{color:"#FF7B72"}},"const"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#79C0FF"}},"data"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#FF7B72"}},"="),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#79C0FF"}},"JSON"),s("span",{style:{color:"#C9D1D9"}},"."),s("span",{style:{color:"#D2A8FF"}},"parse"),s("span",{style:{color:"#C9D1D9"}},"(jsonStr);")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"                ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"                "),s("span",{style:{color:"#FF7B72"}},"if"),s("span",{style:{color:"#C9D1D9"}}," (data.choices "),s("span",{style:{color:"#FF7B72"}},"&&"),s("span",{style:{color:"#C9D1D9"}}," data.choices["),s("span",{style:{color:"#79C0FF"}},"0"),s("span",{style:{color:"#C9D1D9"}},"] "),s("span",{style:{color:"#FF7B72"}},"&&"),s("span",{style:{color:"#C9D1D9"}}," data.choices["),s("span",{style:{color:"#79C0FF"}},"0"),s("span",{style:{color:"#C9D1D9"}},"].delta) {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"                  "),s("span",{style:{color:"#FF7B72"}},"const"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#79C0FF"}},"content"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#FF7B72"}},"="),s("span",{style:{color:"#C9D1D9"}}," data.choices["),s("span",{style:{color:"#79C0FF"}},"0"),s("span",{style:{color:"#C9D1D9"}},"].delta.content "),s("span",{style:{color:"#FF7B72"}},"||"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#A5D6FF"}},"''"),s("span",{style:{color:"#C9D1D9"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"                  "),s("span",{style:{color:"#FF7B72"}},"const"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#79C0FF"}},"finished"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#FF7B72"}},"="),s("span",{style:{color:"#C9D1D9"}}," data.choices["),s("span",{style:{color:"#79C0FF"}},"0"),s("span",{style:{color:"#C9D1D9"}},"].finish_reason "),s("span",{style:{color:"#FF7B72"}},"==="),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#A5D6FF"}},"'stop'"),s("span",{style:{color:"#C9D1D9"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"                  ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"                  "),s("span",{style:{color:"#FF7B72"}},"if"),s("span",{style:{color:"#C9D1D9"}}," (content "),s("span",{style:{color:"#FF7B72"}},"||"),s("span",{style:{color:"#C9D1D9"}}," finished) {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"                    "),s("span",{style:{color:"#FF7B72"}},"yield"),s("span",{style:{color:"#C9D1D9"}}," {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"                      content: content,")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"                      finished: finished")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"                    };")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"                  }")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"                }")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"              } "),s("span",{style:{color:"#FF7B72"}},"catch"),s("span",{style:{color:"#C9D1D9"}}," (parseError) {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"                console."),s("span",{style:{color:"#D2A8FF"}},"warn"),s("span",{style:{color:"#C9D1D9"}},"("),s("span",{style:{color:"#A5D6FF"}},"'\u89E3\u6790SSE\u6570\u636E\u5931\u8D25:'"),s("span",{style:{color:"#C9D1D9"}},", parseError, trimmedLine);")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"              }")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"            }")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"          }")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"        }")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"      } "),s("span",{style:{color:"#FF7B72"}},"finally"),s("span",{style:{color:"#C9D1D9"}}," {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"        reader."),s("span",{style:{color:"#D2A8FF"}},"releaseLock"),s("span",{style:{color:"#C9D1D9"}},"();")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"      }")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"    })();")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"    ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"  } "),s("span",{style:{color:"#FF7B72"}},"catch"),s("span",{style:{color:"#C9D1D9"}}," (error) {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"    console."),s("span",{style:{color:"#D2A8FF"}},"error"),s("span",{style:{color:"#C9D1D9"}},"("),s("span",{style:{color:"#A5D6FF"}},"'SiliconFlow API \u8C03\u7528\u5931\u8D25:'"),s("span",{style:{color:"#C9D1D9"}},", error);")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"    "),s("span",{style:{color:"#FF7B72"}},"throw"),s("span",{style:{color:"#C9D1D9"}}," error;")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"  }")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"}")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki vp-code-light"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#CF222E"}},"async"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#CF222E"}},"function"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#8250DF"}},"processModel"),s("span",{style:{color:"#24292F"}},"("),s("span",{style:{color:"#953800"}},"input"),s("span",{style:{color:"#24292F"}},", "),s("span",{style:{color:"#953800"}},"config"),s("span",{style:{color:"#24292F"}},") {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"  "),s("span",{style:{color:"#6E7781"}},"// \u6784\u5EFA\u8BF7\u6C42\u6570\u636E")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"  "),s("span",{style:{color:"#CF222E"}},"const"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#0550AE"}},"requestData"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#CF222E"}},"="),s("span",{style:{color:"#24292F"}}," {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"    messages: input.messages,")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"    model: "),s("span",{style:{color:"#0A3069"}},"'deepseek-ai/DeepSeek-V3'"),s("span",{style:{color:"#24292F"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"    stream: "),s("span",{style:{color:"#0550AE"}},"true"),s("span",{style:{color:"#24292F"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"    max_tokens: "),s("span",{style:{color:"#0550AE"}},"4096"),s("span",{style:{color:"#24292F"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"    temperature: "),s("span",{style:{color:"#0550AE"}},"0.7"),s("span",{style:{color:"#24292F"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"    top_p:"),s("span",{style:{color:"#0550AE"}},"0.9")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"  };")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"  ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"  console."),s("span",{style:{color:"#8250DF"}},"log"),s("span",{style:{color:"#24292F"}},"("),s("span",{style:{color:"#0A3069"}},"'SiliconFlow \u8BF7\u6C42:'"),s("span",{style:{color:"#24292F"}},", requestData);")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"  ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"  "),s("span",{style:{color:"#CF222E"}},"try"),s("span",{style:{color:"#24292F"}}," {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"    "),s("span",{style:{color:"#6E7781"}},"// \u53D1\u9001\u8BF7\u6C42\u5230SiliconFlow API")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"    "),s("span",{style:{color:"#CF222E"}},"const"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#0550AE"}},"response"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#CF222E"}},"="),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#CF222E"}},"await"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#8250DF"}},"fetch"),s("span",{style:{color:"#24292F"}},"("),s("span",{style:{color:"#0A3069"}},"`${"),s("span",{style:{color:"#24292F"}},"config"),s("span",{style:{color:"#0A3069"}},"."),s("span",{style:{color:"#24292F"}},"baseUrl"),s("span",{style:{color:"#0A3069"}},"}`"),s("span",{style:{color:"#24292F"}},", {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"      method: "),s("span",{style:{color:"#0A3069"}},"'POST'"),s("span",{style:{color:"#24292F"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"      headers: {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"        "),s("span",{style:{color:"#0A3069"}},"'Authorization'"),s("span",{style:{color:"#24292F"}},": "),s("span",{style:{color:"#0A3069"}},"`Bearer ${"),s("span",{style:{color:"#24292F"}},"config"),s("span",{style:{color:"#0A3069"}},"."),s("span",{style:{color:"#24292F"}},"apiKey"),s("span",{style:{color:"#0A3069"}},"}`"),s("span",{style:{color:"#24292F"}},",")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"        "),s("span",{style:{color:"#0A3069"}},"'Content-Type'"),s("span",{style:{color:"#24292F"}},": "),s("span",{style:{color:"#0A3069"}},"'application/json'")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"      },")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"      body: "),s("span",{style:{color:"#0550AE"}},"JSON"),s("span",{style:{color:"#24292F"}},"."),s("span",{style:{color:"#8250DF"}},"stringify"),s("span",{style:{color:"#24292F"}},"(requestData)")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"    });")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"    ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"    "),s("span",{style:{color:"#CF222E"}},"if"),s("span",{style:{color:"#24292F"}}," ("),s("span",{style:{color:"#CF222E"}},"!"),s("span",{style:{color:"#24292F"}},"response.ok) {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"      "),s("span",{style:{color:"#CF222E"}},"const"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#0550AE"}},"errorText"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#CF222E"}},"="),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#CF222E"}},"await"),s("span",{style:{color:"#24292F"}}," response."),s("span",{style:{color:"#8250DF"}},"text"),s("span",{style:{color:"#24292F"}},"();")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"      "),s("span",{style:{color:"#CF222E"}},"throw"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#CF222E"}},"new"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#8250DF"}},"Error"),s("span",{style:{color:"#24292F"}},"("),s("span",{style:{color:"#0A3069"}},"`SiliconFlow API \u9519\u8BEF ${"),s("span",{style:{color:"#24292F"}},"response"),s("span",{style:{color:"#0A3069"}},"."),s("span",{style:{color:"#24292F"}},"status"),s("span",{style:{color:"#0A3069"}},"}: ${"),s("span",{style:{color:"#24292F"}},"errorText"),s("span",{style:{color:"#0A3069"}},"}`"),s("span",{style:{color:"#24292F"}},");")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"    }")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"    ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"    "),s("span",{style:{color:"#6E7781"}},"// \u5904\u7406\u6D41\u5F0F\u54CD\u5E94")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"    "),s("span",{style:{color:"#CF222E"}},"const"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#0550AE"}},"reader"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#CF222E"}},"="),s("span",{style:{color:"#24292F"}}," response.body."),s("span",{style:{color:"#8250DF"}},"getReader"),s("span",{style:{color:"#24292F"}},"();")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"    "),s("span",{style:{color:"#CF222E"}},"const"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#0550AE"}},"decoder"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#CF222E"}},"="),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#CF222E"}},"new"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#8250DF"}},"TextDecoder"),s("span",{style:{color:"#24292F"}},"();")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"    ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"    "),s("span",{style:{color:"#6E7781"}},"// \u8FD4\u56DE\u5F02\u6B65\u751F\u6210\u5668\u5904\u7406\u6D41\u5F0F\u6570\u636E")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"    "),s("span",{style:{color:"#CF222E"}},"return"),s("span",{style:{color:"#24292F"}}," ("),s("span",{style:{color:"#CF222E"}},"async"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#CF222E"}},"function*"),s("span",{style:{color:"#24292F"}}," () {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"      "),s("span",{style:{color:"#CF222E"}},"let"),s("span",{style:{color:"#24292F"}}," buffer "),s("span",{style:{color:"#CF222E"}},"="),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#0A3069"}},"''"),s("span",{style:{color:"#24292F"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"      ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"      "),s("span",{style:{color:"#CF222E"}},"try"),s("span",{style:{color:"#24292F"}}," {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"        "),s("span",{style:{color:"#CF222E"}},"while"),s("span",{style:{color:"#24292F"}}," ("),s("span",{style:{color:"#0550AE"}},"true"),s("span",{style:{color:"#24292F"}},") {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"          "),s("span",{style:{color:"#CF222E"}},"const"),s("span",{style:{color:"#24292F"}}," { "),s("span",{style:{color:"#0550AE"}},"done"),s("span",{style:{color:"#24292F"}},", "),s("span",{style:{color:"#0550AE"}},"value"),s("span",{style:{color:"#24292F"}}," } "),s("span",{style:{color:"#CF222E"}},"="),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#CF222E"}},"await"),s("span",{style:{color:"#24292F"}}," reader."),s("span",{style:{color:"#8250DF"}},"read"),s("span",{style:{color:"#24292F"}},"();")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"          ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"          "),s("span",{style:{color:"#CF222E"}},"if"),s("span",{style:{color:"#24292F"}}," (done) {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"            "),s("span",{style:{color:"#CF222E"}},"break"),s("span",{style:{color:"#24292F"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"          }")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"          ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"          "),s("span",{style:{color:"#6E7781"}},"// \u89E3\u7801\u6570\u636E\u5757")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"          buffer "),s("span",{style:{color:"#CF222E"}},"+="),s("span",{style:{color:"#24292F"}}," decoder."),s("span",{style:{color:"#8250DF"}},"decode"),s("span",{style:{color:"#24292F"}},"(value, { stream: "),s("span",{style:{color:"#0550AE"}},"true"),s("span",{style:{color:"#24292F"}}," });")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"          "),s("span",{style:{color:"#CF222E"}},"const"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#0550AE"}},"lines"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#CF222E"}},"="),s("span",{style:{color:"#24292F"}}," buffer."),s("span",{style:{color:"#8250DF"}},"split"),s("span",{style:{color:"#24292F"}},"("),s("span",{style:{color:"#0A3069"}},"'"),s("span",{style:{color:"#0550AE"}},"\\n"),s("span",{style:{color:"#0A3069"}},"'"),s("span",{style:{color:"#24292F"}},");")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"          buffer "),s("span",{style:{color:"#CF222E"}},"="),s("span",{style:{color:"#24292F"}}," lines."),s("span",{style:{color:"#8250DF"}},"pop"),s("span",{style:{color:"#24292F"}},"() "),s("span",{style:{color:"#CF222E"}},"||"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#0A3069"}},"''"),s("span",{style:{color:"#24292F"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"          ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"          "),s("span",{style:{color:"#CF222E"}},"for"),s("span",{style:{color:"#24292F"}}," ("),s("span",{style:{color:"#CF222E"}},"const"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#0550AE"}},"line"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#CF222E"}},"of"),s("span",{style:{color:"#24292F"}}," lines) {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"            "),s("span",{style:{color:"#CF222E"}},"const"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#0550AE"}},"trimmedLine"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#CF222E"}},"="),s("span",{style:{color:"#24292F"}}," line."),s("span",{style:{color:"#8250DF"}},"trim"),s("span",{style:{color:"#24292F"}},"();")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"            "),s("span",{style:{color:"#CF222E"}},"if"),s("span",{style:{color:"#24292F"}}," (trimmedLine "),s("span",{style:{color:"#CF222E"}},"==="),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#0A3069"}},"''"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#CF222E"}},"||"),s("span",{style:{color:"#24292F"}}," trimmedLine "),s("span",{style:{color:"#CF222E"}},"==="),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#0A3069"}},"'data: [DONE]'"),s("span",{style:{color:"#24292F"}},") {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"              "),s("span",{style:{color:"#CF222E"}},"continue"),s("span",{style:{color:"#24292F"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"            }")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"            ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"            "),s("span",{style:{color:"#CF222E"}},"if"),s("span",{style:{color:"#24292F"}}," (trimmedLine."),s("span",{style:{color:"#8250DF"}},"startsWith"),s("span",{style:{color:"#24292F"}},"("),s("span",{style:{color:"#0A3069"}},"'data: '"),s("span",{style:{color:"#24292F"}},")) {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"              "),s("span",{style:{color:"#CF222E"}},"try"),s("span",{style:{color:"#24292F"}}," {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"                "),s("span",{style:{color:"#CF222E"}},"const"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#0550AE"}},"jsonStr"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#CF222E"}},"="),s("span",{style:{color:"#24292F"}}," trimmedLine."),s("span",{style:{color:"#8250DF"}},"slice"),s("span",{style:{color:"#24292F"}},"("),s("span",{style:{color:"#0550AE"}},"6"),s("span",{style:{color:"#24292F"}},");")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"                "),s("span",{style:{color:"#CF222E"}},"const"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#0550AE"}},"data"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#CF222E"}},"="),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#0550AE"}},"JSON"),s("span",{style:{color:"#24292F"}},"."),s("span",{style:{color:"#8250DF"}},"parse"),s("span",{style:{color:"#24292F"}},"(jsonStr);")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"                ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"                "),s("span",{style:{color:"#CF222E"}},"if"),s("span",{style:{color:"#24292F"}}," (data.choices "),s("span",{style:{color:"#CF222E"}},"&&"),s("span",{style:{color:"#24292F"}}," data.choices["),s("span",{style:{color:"#0550AE"}},"0"),s("span",{style:{color:"#24292F"}},"] "),s("span",{style:{color:"#CF222E"}},"&&"),s("span",{style:{color:"#24292F"}}," data.choices["),s("span",{style:{color:"#0550AE"}},"0"),s("span",{style:{color:"#24292F"}},"].delta) {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"                  "),s("span",{style:{color:"#CF222E"}},"const"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#0550AE"}},"content"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#CF222E"}},"="),s("span",{style:{color:"#24292F"}}," data.choices["),s("span",{style:{color:"#0550AE"}},"0"),s("span",{style:{color:"#24292F"}},"].delta.content "),s("span",{style:{color:"#CF222E"}},"||"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#0A3069"}},"''"),s("span",{style:{color:"#24292F"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"                  "),s("span",{style:{color:"#CF222E"}},"const"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#0550AE"}},"finished"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#CF222E"}},"="),s("span",{style:{color:"#24292F"}}," data.choices["),s("span",{style:{color:"#0550AE"}},"0"),s("span",{style:{color:"#24292F"}},"].finish_reason "),s("span",{style:{color:"#CF222E"}},"==="),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#0A3069"}},"'stop'"),s("span",{style:{color:"#24292F"}},";")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"                  ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"                  "),s("span",{style:{color:"#CF222E"}},"if"),s("span",{style:{color:"#24292F"}}," (content "),s("span",{style:{color:"#CF222E"}},"||"),s("span",{style:{color:"#24292F"}}," finished) {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"                    "),s("span",{style:{color:"#CF222E"}},"yield"),s("span",{style:{color:"#24292F"}}," {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"                      content: content,")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"                      finished: finished")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"                    };")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"                  }")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"                }")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"              } "),s("span",{style:{color:"#CF222E"}},"catch"),s("span",{style:{color:"#24292F"}}," (parseError) {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"                console."),s("span",{style:{color:"#8250DF"}},"warn"),s("span",{style:{color:"#24292F"}},"("),s("span",{style:{color:"#0A3069"}},"'\u89E3\u6790SSE\u6570\u636E\u5931\u8D25:'"),s("span",{style:{color:"#24292F"}},", parseError, trimmedLine);")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"              }")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"            }")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"          }")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"        }")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"      } "),s("span",{style:{color:"#CF222E"}},"finally"),s("span",{style:{color:"#24292F"}}," {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"        reader."),s("span",{style:{color:"#8250DF"}},"releaseLock"),s("span",{style:{color:"#24292F"}},"();")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"      }")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"    })();")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"    ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"  } "),s("span",{style:{color:"#CF222E"}},"catch"),s("span",{style:{color:"#24292F"}}," (error) {")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"    console."),s("span",{style:{color:"#8250DF"}},"error"),s("span",{style:{color:"#24292F"}},"("),s("span",{style:{color:"#0A3069"}},"'SiliconFlow API \u8C03\u7528\u5931\u8D25:'"),s("span",{style:{color:"#24292F"}},", error);")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"    "),s("span",{style:{color:"#CF222E"}},"throw"),s("span",{style:{color:"#24292F"}}," error;")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"  }")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"}")]),l(`
`),s("span",{class:"line"})])])],-1),i=e('<h2 id="\u963F\u91CC\u4E91\u767E\u70BC" tabindex="-1">\u963F\u91CC\u4E91\u767E\u70BC <a class="header-anchor" href="#\u963F\u91CC\u4E91\u767E\u70BC" aria-hidden="true">#</a></h2><blockquote><p>baseUrl : <a href="https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions" target="_blank" rel="noreferrer">https://dashscope.aliyuncs.com/compatible-mode/v1/chat/completions</a><br> \u5B98\u7F51 : <a href="https://bailian.console.aliyun.com/" target="_blank" rel="noreferrer">https://bailian.console.aliyun.com/</a><br> \u6587\u6863 : <a href="https://bailian.console.aliyun.com/doc?tab=doc#/doc" target="_blank" rel="noreferrer">https://bailian.console.aliyun.com/doc?tab=doc#/doc</a></p></blockquote>',2),C=s("div",{class:"language-javascript"},[s("button",{title:"Copy Code",class:"copy"}),s("span",{class:"lang"},"javascript"),s("pre",{class:"shiki vp-code-dark"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#FF7B72"}},"async"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#FF7B72"}},"function"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#D2A8FF"}},"processModel"),s("span",{style:{color:"#C9D1D9"}},"("),s("span",{style:{color:"#FFA657"}},"input"),s("span",{style:{color:"#C9D1D9"}},", "),s("span",{style:{color:"#FFA657"}},"config"),s("span",{style:{color:"#C9D1D9"}},") { ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"   "),s("span",{style:{color:"#8B949E"}},"// \u6784\u5EFA\u8BF7\u6C42\u6570\u636E ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"   "),s("span",{style:{color:"#FF7B72"}},"const"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#79C0FF"}},"requestData"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#FF7B72"}},"="),s("span",{style:{color:"#C9D1D9"}}," { ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"     messages: input.messages, ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"     model: "),s("span",{style:{color:"#A5D6FF"}},"'qwen-plus'"),s("span",{style:{color:"#C9D1D9"}},", ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"   }; ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"   ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"   console."),s("span",{style:{color:"#D2A8FF"}},"log"),s("span",{style:{color:"#C9D1D9"}},"("),s("span",{style:{color:"#A5D6FF"}},"'\u963F\u91CC\u4E91\u767E\u70BC \u8BF7\u6C42:'"),s("span",{style:{color:"#C9D1D9"}},", requestData); ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"   ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"   "),s("span",{style:{color:"#FF7B72"}},"try"),s("span",{style:{color:"#C9D1D9"}}," { ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"     "),s("span",{style:{color:"#8B949E"}},"// \u53D1\u9001\u8BF7\u6C42\u5230\u963F\u91CC\u4E91\u767E\u70BC API ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"     "),s("span",{style:{color:"#FF7B72"}},"const"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#79C0FF"}},"response"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#FF7B72"}},"="),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#FF7B72"}},"await"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#D2A8FF"}},"fetch"),s("span",{style:{color:"#C9D1D9"}},"("),s("span",{style:{color:"#A5D6FF"}},"`${"),s("span",{style:{color:"#C9D1D9"}},"config"),s("span",{style:{color:"#A5D6FF"}},"."),s("span",{style:{color:"#C9D1D9"}},"baseUrl"),s("span",{style:{color:"#A5D6FF"}},"}`"),s("span",{style:{color:"#C9D1D9"}},", { ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"       method: "),s("span",{style:{color:"#A5D6FF"}},"'POST'"),s("span",{style:{color:"#C9D1D9"}},", ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"       headers: { ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"         "),s("span",{style:{color:"#A5D6FF"}},"'Authorization'"),s("span",{style:{color:"#C9D1D9"}},": "),s("span",{style:{color:"#A5D6FF"}},"`Bearer ${"),s("span",{style:{color:"#C9D1D9"}},"config"),s("span",{style:{color:"#A5D6FF"}},"."),s("span",{style:{color:"#C9D1D9"}},"apiKey"),s("span",{style:{color:"#A5D6FF"}},"}`"),s("span",{style:{color:"#C9D1D9"}},", ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"         "),s("span",{style:{color:"#A5D6FF"}},"'Content-Type'"),s("span",{style:{color:"#C9D1D9"}},": "),s("span",{style:{color:"#A5D6FF"}},"'application/json'"),s("span",{style:{color:"#C9D1D9"}}," ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"       }, ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"       body: "),s("span",{style:{color:"#79C0FF"}},"JSON"),s("span",{style:{color:"#C9D1D9"}},"."),s("span",{style:{color:"#D2A8FF"}},"stringify"),s("span",{style:{color:"#C9D1D9"}},"(requestData) ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"     }); ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"     ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"     "),s("span",{style:{color:"#FF7B72"}},"if"),s("span",{style:{color:"#C9D1D9"}}," ("),s("span",{style:{color:"#FF7B72"}},"!"),s("span",{style:{color:"#C9D1D9"}},"response.ok) { ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"       "),s("span",{style:{color:"#FF7B72"}},"const"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#79C0FF"}},"errorText"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#FF7B72"}},"="),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#FF7B72"}},"await"),s("span",{style:{color:"#C9D1D9"}}," response."),s("span",{style:{color:"#D2A8FF"}},"text"),s("span",{style:{color:"#C9D1D9"}},"(); ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"       "),s("span",{style:{color:"#FF7B72"}},"throw"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#FF7B72"}},"new"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#D2A8FF"}},"Error"),s("span",{style:{color:"#C9D1D9"}},"("),s("span",{style:{color:"#A5D6FF"}},"`\u963F\u91CC\u4E91\u767E\u70BC API \u9519\u8BEF ${"),s("span",{style:{color:"#C9D1D9"}},"response"),s("span",{style:{color:"#A5D6FF"}},"."),s("span",{style:{color:"#C9D1D9"}},"status"),s("span",{style:{color:"#A5D6FF"}},"}: ${"),s("span",{style:{color:"#C9D1D9"}},"errorText"),s("span",{style:{color:"#A5D6FF"}},"}`"),s("span",{style:{color:"#C9D1D9"}},"); ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"     } ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"     ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"     "),s("span",{style:{color:"#8B949E"}},"// \u5904\u7406\u6D41\u5F0F\u54CD\u5E94 ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"     "),s("span",{style:{color:"#FF7B72"}},"const"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#79C0FF"}},"reader"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#FF7B72"}},"="),s("span",{style:{color:"#C9D1D9"}}," response.body."),s("span",{style:{color:"#D2A8FF"}},"getReader"),s("span",{style:{color:"#C9D1D9"}},"(); ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"     "),s("span",{style:{color:"#FF7B72"}},"const"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#79C0FF"}},"decoder"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#FF7B72"}},"="),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#FF7B72"}},"new"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#D2A8FF"}},"TextDecoder"),s("span",{style:{color:"#C9D1D9"}},"(); ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"     ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"     "),s("span",{style:{color:"#8B949E"}},"// \u8FD4\u56DE\u5F02\u6B65\u751F\u6210\u5668\u5904\u7406\u6D41\u5F0F\u6570\u636E ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"     "),s("span",{style:{color:"#FF7B72"}},"return"),s("span",{style:{color:"#C9D1D9"}}," ("),s("span",{style:{color:"#FF7B72"}},"async"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#FF7B72"}},"function*"),s("span",{style:{color:"#C9D1D9"}}," () { ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"       "),s("span",{style:{color:"#FF7B72"}},"let"),s("span",{style:{color:"#C9D1D9"}}," buffer "),s("span",{style:{color:"#FF7B72"}},"="),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#A5D6FF"}},"''"),s("span",{style:{color:"#C9D1D9"}},"; ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"       ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"       "),s("span",{style:{color:"#FF7B72"}},"try"),s("span",{style:{color:"#C9D1D9"}}," { ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"         "),s("span",{style:{color:"#FF7B72"}},"while"),s("span",{style:{color:"#C9D1D9"}}," ("),s("span",{style:{color:"#79C0FF"}},"true"),s("span",{style:{color:"#C9D1D9"}},") { ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"           "),s("span",{style:{color:"#FF7B72"}},"const"),s("span",{style:{color:"#C9D1D9"}}," { "),s("span",{style:{color:"#79C0FF"}},"done"),s("span",{style:{color:"#C9D1D9"}},", "),s("span",{style:{color:"#79C0FF"}},"value"),s("span",{style:{color:"#C9D1D9"}}," } "),s("span",{style:{color:"#FF7B72"}},"="),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#FF7B72"}},"await"),s("span",{style:{color:"#C9D1D9"}}," reader."),s("span",{style:{color:"#D2A8FF"}},"read"),s("span",{style:{color:"#C9D1D9"}},"(); ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"           ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"           "),s("span",{style:{color:"#FF7B72"}},"if"),s("span",{style:{color:"#C9D1D9"}}," (done) { ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"             "),s("span",{style:{color:"#FF7B72"}},"break"),s("span",{style:{color:"#C9D1D9"}},"; ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"           } ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"           ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"           "),s("span",{style:{color:"#8B949E"}},"// \u89E3\u7801\u6570\u636E\u5757 ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"           buffer "),s("span",{style:{color:"#FF7B72"}},"+="),s("span",{style:{color:"#C9D1D9"}}," decoder."),s("span",{style:{color:"#D2A8FF"}},"decode"),s("span",{style:{color:"#C9D1D9"}},"(value, { stream: "),s("span",{style:{color:"#79C0FF"}},"true"),s("span",{style:{color:"#C9D1D9"}}," }); ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"           "),s("span",{style:{color:"#FF7B72"}},"const"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#79C0FF"}},"lines"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#FF7B72"}},"="),s("span",{style:{color:"#C9D1D9"}}," buffer."),s("span",{style:{color:"#D2A8FF"}},"split"),s("span",{style:{color:"#C9D1D9"}},"("),s("span",{style:{color:"#A5D6FF"}},"'"),s("span",{style:{color:"#79C0FF"}},"\\n"),s("span",{style:{color:"#A5D6FF"}},"'"),s("span",{style:{color:"#C9D1D9"}},"); ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"           buffer "),s("span",{style:{color:"#FF7B72"}},"="),s("span",{style:{color:"#C9D1D9"}}," lines."),s("span",{style:{color:"#D2A8FF"}},"pop"),s("span",{style:{color:"#C9D1D9"}},"() "),s("span",{style:{color:"#FF7B72"}},"||"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#A5D6FF"}},"''"),s("span",{style:{color:"#C9D1D9"}},"; ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"           ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"           "),s("span",{style:{color:"#FF7B72"}},"for"),s("span",{style:{color:"#C9D1D9"}}," ("),s("span",{style:{color:"#FF7B72"}},"const"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#79C0FF"}},"line"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#FF7B72"}},"of"),s("span",{style:{color:"#C9D1D9"}}," lines) { ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"             "),s("span",{style:{color:"#FF7B72"}},"const"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#79C0FF"}},"trimmedLine"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#FF7B72"}},"="),s("span",{style:{color:"#C9D1D9"}}," line."),s("span",{style:{color:"#D2A8FF"}},"trim"),s("span",{style:{color:"#C9D1D9"}},"(); ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"             "),s("span",{style:{color:"#FF7B72"}},"if"),s("span",{style:{color:"#C9D1D9"}}," (trimmedLine "),s("span",{style:{color:"#FF7B72"}},"==="),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#A5D6FF"}},"''"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#FF7B72"}},"||"),s("span",{style:{color:"#C9D1D9"}}," trimmedLine "),s("span",{style:{color:"#FF7B72"}},"==="),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#A5D6FF"}},"'data: [DONE]'"),s("span",{style:{color:"#C9D1D9"}},") { ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"               "),s("span",{style:{color:"#FF7B72"}},"continue"),s("span",{style:{color:"#C9D1D9"}},"; ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"             } ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"             ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"             "),s("span",{style:{color:"#FF7B72"}},"if"),s("span",{style:{color:"#C9D1D9"}}," (trimmedLine."),s("span",{style:{color:"#D2A8FF"}},"startsWith"),s("span",{style:{color:"#C9D1D9"}},"("),s("span",{style:{color:"#A5D6FF"}},"'data: '"),s("span",{style:{color:"#C9D1D9"}},")) { ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"               "),s("span",{style:{color:"#FF7B72"}},"try"),s("span",{style:{color:"#C9D1D9"}}," { ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"                 "),s("span",{style:{color:"#FF7B72"}},"const"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#79C0FF"}},"jsonStr"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#FF7B72"}},"="),s("span",{style:{color:"#C9D1D9"}}," trimmedLine."),s("span",{style:{color:"#D2A8FF"}},"slice"),s("span",{style:{color:"#C9D1D9"}},"("),s("span",{style:{color:"#79C0FF"}},"6"),s("span",{style:{color:"#C9D1D9"}},"); ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"                 "),s("span",{style:{color:"#FF7B72"}},"const"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#79C0FF"}},"data"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#FF7B72"}},"="),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#79C0FF"}},"JSON"),s("span",{style:{color:"#C9D1D9"}},"."),s("span",{style:{color:"#D2A8FF"}},"parse"),s("span",{style:{color:"#C9D1D9"}},"(jsonStr); ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"                 ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"                 "),s("span",{style:{color:"#FF7B72"}},"if"),s("span",{style:{color:"#C9D1D9"}}," (data.choices "),s("span",{style:{color:"#FF7B72"}},"&&"),s("span",{style:{color:"#C9D1D9"}}," data.choices["),s("span",{style:{color:"#79C0FF"}},"0"),s("span",{style:{color:"#C9D1D9"}},"] "),s("span",{style:{color:"#FF7B72"}},"&&"),s("span",{style:{color:"#C9D1D9"}}," data.choices["),s("span",{style:{color:"#79C0FF"}},"0"),s("span",{style:{color:"#C9D1D9"}},"].delta) { ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"                   "),s("span",{style:{color:"#FF7B72"}},"const"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#79C0FF"}},"content"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#FF7B72"}},"="),s("span",{style:{color:"#C9D1D9"}}," data.choices["),s("span",{style:{color:"#79C0FF"}},"0"),s("span",{style:{color:"#C9D1D9"}},"].delta.content "),s("span",{style:{color:"#FF7B72"}},"||"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#A5D6FF"}},"''"),s("span",{style:{color:"#C9D1D9"}},"; ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"                   "),s("span",{style:{color:"#FF7B72"}},"const"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#79C0FF"}},"finished"),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#FF7B72"}},"="),s("span",{style:{color:"#C9D1D9"}}," data.choices["),s("span",{style:{color:"#79C0FF"}},"0"),s("span",{style:{color:"#C9D1D9"}},"].finish_reason "),s("span",{style:{color:"#FF7B72"}},"==="),s("span",{style:{color:"#C9D1D9"}}," "),s("span",{style:{color:"#A5D6FF"}},"'stop'"),s("span",{style:{color:"#C9D1D9"}},"; ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"                   ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"                   "),s("span",{style:{color:"#FF7B72"}},"if"),s("span",{style:{color:"#C9D1D9"}}," (content "),s("span",{style:{color:"#FF7B72"}},"||"),s("span",{style:{color:"#C9D1D9"}}," finished) { ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"                     "),s("span",{style:{color:"#FF7B72"}},"yield"),s("span",{style:{color:"#C9D1D9"}}," { ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"                       content: content, ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"                       finished: finished ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"                     }; ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"                   } ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"                 } ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"               } "),s("span",{style:{color:"#FF7B72"}},"catch"),s("span",{style:{color:"#C9D1D9"}}," (parseError) { ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"                 console."),s("span",{style:{color:"#D2A8FF"}},"warn"),s("span",{style:{color:"#C9D1D9"}},"("),s("span",{style:{color:"#A5D6FF"}},"'\u89E3\u6790SSE\u6570\u636E\u5931\u8D25:'"),s("span",{style:{color:"#C9D1D9"}},", parseError, trimmedLine); ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"               } ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"             } ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"           } ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"         } ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"       } "),s("span",{style:{color:"#FF7B72"}},"finally"),s("span",{style:{color:"#C9D1D9"}}," { ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"         reader."),s("span",{style:{color:"#D2A8FF"}},"releaseLock"),s("span",{style:{color:"#C9D1D9"}},"(); ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"       } ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"     })(); ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"     ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"   } "),s("span",{style:{color:"#FF7B72"}},"catch"),s("span",{style:{color:"#C9D1D9"}}," (error) { ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"     console."),s("span",{style:{color:"#D2A8FF"}},"error"),s("span",{style:{color:"#C9D1D9"}},"("),s("span",{style:{color:"#A5D6FF"}},"'\u963F\u91CC\u4E91\u767E\u70BC API \u8C03\u7528\u5931\u8D25:'"),s("span",{style:{color:"#C9D1D9"}},", error); ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"     "),s("span",{style:{color:"#FF7B72"}},"throw"),s("span",{style:{color:"#C9D1D9"}}," error; ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}},"   } ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#C9D1D9"}}," }")]),l(`
`),s("span",{class:"line"})])]),s("pre",{class:"shiki vp-code-light"},[s("code",null,[s("span",{class:"line"},[s("span",{style:{color:"#CF222E"}},"async"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#CF222E"}},"function"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#8250DF"}},"processModel"),s("span",{style:{color:"#24292F"}},"("),s("span",{style:{color:"#953800"}},"input"),s("span",{style:{color:"#24292F"}},", "),s("span",{style:{color:"#953800"}},"config"),s("span",{style:{color:"#24292F"}},") { ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"   "),s("span",{style:{color:"#6E7781"}},"// \u6784\u5EFA\u8BF7\u6C42\u6570\u636E ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"   "),s("span",{style:{color:"#CF222E"}},"const"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#0550AE"}},"requestData"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#CF222E"}},"="),s("span",{style:{color:"#24292F"}}," { ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"     messages: input.messages, ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"     model: "),s("span",{style:{color:"#0A3069"}},"'qwen-plus'"),s("span",{style:{color:"#24292F"}},", ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"   }; ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"   ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"   console."),s("span",{style:{color:"#8250DF"}},"log"),s("span",{style:{color:"#24292F"}},"("),s("span",{style:{color:"#0A3069"}},"'\u963F\u91CC\u4E91\u767E\u70BC \u8BF7\u6C42:'"),s("span",{style:{color:"#24292F"}},", requestData); ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"   ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"   "),s("span",{style:{color:"#CF222E"}},"try"),s("span",{style:{color:"#24292F"}}," { ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"     "),s("span",{style:{color:"#6E7781"}},"// \u53D1\u9001\u8BF7\u6C42\u5230\u963F\u91CC\u4E91\u767E\u70BC API ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"     "),s("span",{style:{color:"#CF222E"}},"const"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#0550AE"}},"response"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#CF222E"}},"="),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#CF222E"}},"await"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#8250DF"}},"fetch"),s("span",{style:{color:"#24292F"}},"("),s("span",{style:{color:"#0A3069"}},"`${"),s("span",{style:{color:"#24292F"}},"config"),s("span",{style:{color:"#0A3069"}},"."),s("span",{style:{color:"#24292F"}},"baseUrl"),s("span",{style:{color:"#0A3069"}},"}`"),s("span",{style:{color:"#24292F"}},", { ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"       method: "),s("span",{style:{color:"#0A3069"}},"'POST'"),s("span",{style:{color:"#24292F"}},", ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"       headers: { ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"         "),s("span",{style:{color:"#0A3069"}},"'Authorization'"),s("span",{style:{color:"#24292F"}},": "),s("span",{style:{color:"#0A3069"}},"`Bearer ${"),s("span",{style:{color:"#24292F"}},"config"),s("span",{style:{color:"#0A3069"}},"."),s("span",{style:{color:"#24292F"}},"apiKey"),s("span",{style:{color:"#0A3069"}},"}`"),s("span",{style:{color:"#24292F"}},", ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"         "),s("span",{style:{color:"#0A3069"}},"'Content-Type'"),s("span",{style:{color:"#24292F"}},": "),s("span",{style:{color:"#0A3069"}},"'application/json'"),s("span",{style:{color:"#24292F"}}," ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"       }, ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"       body: "),s("span",{style:{color:"#0550AE"}},"JSON"),s("span",{style:{color:"#24292F"}},"."),s("span",{style:{color:"#8250DF"}},"stringify"),s("span",{style:{color:"#24292F"}},"(requestData) ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"     }); ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"     ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"     "),s("span",{style:{color:"#CF222E"}},"if"),s("span",{style:{color:"#24292F"}}," ("),s("span",{style:{color:"#CF222E"}},"!"),s("span",{style:{color:"#24292F"}},"response.ok) { ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"       "),s("span",{style:{color:"#CF222E"}},"const"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#0550AE"}},"errorText"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#CF222E"}},"="),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#CF222E"}},"await"),s("span",{style:{color:"#24292F"}}," response."),s("span",{style:{color:"#8250DF"}},"text"),s("span",{style:{color:"#24292F"}},"(); ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"       "),s("span",{style:{color:"#CF222E"}},"throw"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#CF222E"}},"new"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#8250DF"}},"Error"),s("span",{style:{color:"#24292F"}},"("),s("span",{style:{color:"#0A3069"}},"`\u963F\u91CC\u4E91\u767E\u70BC API \u9519\u8BEF ${"),s("span",{style:{color:"#24292F"}},"response"),s("span",{style:{color:"#0A3069"}},"."),s("span",{style:{color:"#24292F"}},"status"),s("span",{style:{color:"#0A3069"}},"}: ${"),s("span",{style:{color:"#24292F"}},"errorText"),s("span",{style:{color:"#0A3069"}},"}`"),s("span",{style:{color:"#24292F"}},"); ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"     } ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"     ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"     "),s("span",{style:{color:"#6E7781"}},"// \u5904\u7406\u6D41\u5F0F\u54CD\u5E94 ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"     "),s("span",{style:{color:"#CF222E"}},"const"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#0550AE"}},"reader"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#CF222E"}},"="),s("span",{style:{color:"#24292F"}}," response.body."),s("span",{style:{color:"#8250DF"}},"getReader"),s("span",{style:{color:"#24292F"}},"(); ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"     "),s("span",{style:{color:"#CF222E"}},"const"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#0550AE"}},"decoder"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#CF222E"}},"="),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#CF222E"}},"new"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#8250DF"}},"TextDecoder"),s("span",{style:{color:"#24292F"}},"(); ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"     ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"     "),s("span",{style:{color:"#6E7781"}},"// \u8FD4\u56DE\u5F02\u6B65\u751F\u6210\u5668\u5904\u7406\u6D41\u5F0F\u6570\u636E ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"     "),s("span",{style:{color:"#CF222E"}},"return"),s("span",{style:{color:"#24292F"}}," ("),s("span",{style:{color:"#CF222E"}},"async"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#CF222E"}},"function*"),s("span",{style:{color:"#24292F"}}," () { ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"       "),s("span",{style:{color:"#CF222E"}},"let"),s("span",{style:{color:"#24292F"}}," buffer "),s("span",{style:{color:"#CF222E"}},"="),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#0A3069"}},"''"),s("span",{style:{color:"#24292F"}},"; ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"       ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"       "),s("span",{style:{color:"#CF222E"}},"try"),s("span",{style:{color:"#24292F"}}," { ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"         "),s("span",{style:{color:"#CF222E"}},"while"),s("span",{style:{color:"#24292F"}}," ("),s("span",{style:{color:"#0550AE"}},"true"),s("span",{style:{color:"#24292F"}},") { ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"           "),s("span",{style:{color:"#CF222E"}},"const"),s("span",{style:{color:"#24292F"}}," { "),s("span",{style:{color:"#0550AE"}},"done"),s("span",{style:{color:"#24292F"}},", "),s("span",{style:{color:"#0550AE"}},"value"),s("span",{style:{color:"#24292F"}}," } "),s("span",{style:{color:"#CF222E"}},"="),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#CF222E"}},"await"),s("span",{style:{color:"#24292F"}}," reader."),s("span",{style:{color:"#8250DF"}},"read"),s("span",{style:{color:"#24292F"}},"(); ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"           ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"           "),s("span",{style:{color:"#CF222E"}},"if"),s("span",{style:{color:"#24292F"}}," (done) { ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"             "),s("span",{style:{color:"#CF222E"}},"break"),s("span",{style:{color:"#24292F"}},"; ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"           } ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"           ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"           "),s("span",{style:{color:"#6E7781"}},"// \u89E3\u7801\u6570\u636E\u5757 ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"           buffer "),s("span",{style:{color:"#CF222E"}},"+="),s("span",{style:{color:"#24292F"}}," decoder."),s("span",{style:{color:"#8250DF"}},"decode"),s("span",{style:{color:"#24292F"}},"(value, { stream: "),s("span",{style:{color:"#0550AE"}},"true"),s("span",{style:{color:"#24292F"}}," }); ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"           "),s("span",{style:{color:"#CF222E"}},"const"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#0550AE"}},"lines"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#CF222E"}},"="),s("span",{style:{color:"#24292F"}}," buffer."),s("span",{style:{color:"#8250DF"}},"split"),s("span",{style:{color:"#24292F"}},"("),s("span",{style:{color:"#0A3069"}},"'"),s("span",{style:{color:"#0550AE"}},"\\n"),s("span",{style:{color:"#0A3069"}},"'"),s("span",{style:{color:"#24292F"}},"); ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"           buffer "),s("span",{style:{color:"#CF222E"}},"="),s("span",{style:{color:"#24292F"}}," lines."),s("span",{style:{color:"#8250DF"}},"pop"),s("span",{style:{color:"#24292F"}},"() "),s("span",{style:{color:"#CF222E"}},"||"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#0A3069"}},"''"),s("span",{style:{color:"#24292F"}},"; ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"           ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"           "),s("span",{style:{color:"#CF222E"}},"for"),s("span",{style:{color:"#24292F"}}," ("),s("span",{style:{color:"#CF222E"}},"const"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#0550AE"}},"line"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#CF222E"}},"of"),s("span",{style:{color:"#24292F"}}," lines) { ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"             "),s("span",{style:{color:"#CF222E"}},"const"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#0550AE"}},"trimmedLine"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#CF222E"}},"="),s("span",{style:{color:"#24292F"}}," line."),s("span",{style:{color:"#8250DF"}},"trim"),s("span",{style:{color:"#24292F"}},"(); ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"             "),s("span",{style:{color:"#CF222E"}},"if"),s("span",{style:{color:"#24292F"}}," (trimmedLine "),s("span",{style:{color:"#CF222E"}},"==="),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#0A3069"}},"''"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#CF222E"}},"||"),s("span",{style:{color:"#24292F"}}," trimmedLine "),s("span",{style:{color:"#CF222E"}},"==="),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#0A3069"}},"'data: [DONE]'"),s("span",{style:{color:"#24292F"}},") { ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"               "),s("span",{style:{color:"#CF222E"}},"continue"),s("span",{style:{color:"#24292F"}},"; ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"             } ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"             ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"             "),s("span",{style:{color:"#CF222E"}},"if"),s("span",{style:{color:"#24292F"}}," (trimmedLine."),s("span",{style:{color:"#8250DF"}},"startsWith"),s("span",{style:{color:"#24292F"}},"("),s("span",{style:{color:"#0A3069"}},"'data: '"),s("span",{style:{color:"#24292F"}},")) { ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"               "),s("span",{style:{color:"#CF222E"}},"try"),s("span",{style:{color:"#24292F"}}," { ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"                 "),s("span",{style:{color:"#CF222E"}},"const"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#0550AE"}},"jsonStr"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#CF222E"}},"="),s("span",{style:{color:"#24292F"}}," trimmedLine."),s("span",{style:{color:"#8250DF"}},"slice"),s("span",{style:{color:"#24292F"}},"("),s("span",{style:{color:"#0550AE"}},"6"),s("span",{style:{color:"#24292F"}},"); ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"                 "),s("span",{style:{color:"#CF222E"}},"const"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#0550AE"}},"data"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#CF222E"}},"="),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#0550AE"}},"JSON"),s("span",{style:{color:"#24292F"}},"."),s("span",{style:{color:"#8250DF"}},"parse"),s("span",{style:{color:"#24292F"}},"(jsonStr); ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"                 ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"                 "),s("span",{style:{color:"#CF222E"}},"if"),s("span",{style:{color:"#24292F"}}," (data.choices "),s("span",{style:{color:"#CF222E"}},"&&"),s("span",{style:{color:"#24292F"}}," data.choices["),s("span",{style:{color:"#0550AE"}},"0"),s("span",{style:{color:"#24292F"}},"] "),s("span",{style:{color:"#CF222E"}},"&&"),s("span",{style:{color:"#24292F"}}," data.choices["),s("span",{style:{color:"#0550AE"}},"0"),s("span",{style:{color:"#24292F"}},"].delta) { ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"                   "),s("span",{style:{color:"#CF222E"}},"const"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#0550AE"}},"content"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#CF222E"}},"="),s("span",{style:{color:"#24292F"}}," data.choices["),s("span",{style:{color:"#0550AE"}},"0"),s("span",{style:{color:"#24292F"}},"].delta.content "),s("span",{style:{color:"#CF222E"}},"||"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#0A3069"}},"''"),s("span",{style:{color:"#24292F"}},"; ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"                   "),s("span",{style:{color:"#CF222E"}},"const"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#0550AE"}},"finished"),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#CF222E"}},"="),s("span",{style:{color:"#24292F"}}," data.choices["),s("span",{style:{color:"#0550AE"}},"0"),s("span",{style:{color:"#24292F"}},"].finish_reason "),s("span",{style:{color:"#CF222E"}},"==="),s("span",{style:{color:"#24292F"}}," "),s("span",{style:{color:"#0A3069"}},"'stop'"),s("span",{style:{color:"#24292F"}},"; ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"                   ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"                   "),s("span",{style:{color:"#CF222E"}},"if"),s("span",{style:{color:"#24292F"}}," (content "),s("span",{style:{color:"#CF222E"}},"||"),s("span",{style:{color:"#24292F"}}," finished) { ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"                     "),s("span",{style:{color:"#CF222E"}},"yield"),s("span",{style:{color:"#24292F"}}," { ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"                       content: content, ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"                       finished: finished ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"                     }; ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"                   } ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"                 } ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"               } "),s("span",{style:{color:"#CF222E"}},"catch"),s("span",{style:{color:"#24292F"}}," (parseError) { ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"                 console."),s("span",{style:{color:"#8250DF"}},"warn"),s("span",{style:{color:"#24292F"}},"("),s("span",{style:{color:"#0A3069"}},"'\u89E3\u6790SSE\u6570\u636E\u5931\u8D25:'"),s("span",{style:{color:"#24292F"}},", parseError, trimmedLine); ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"               } ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"             } ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"           } ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"         } ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"       } "),s("span",{style:{color:"#CF222E"}},"finally"),s("span",{style:{color:"#24292F"}}," { ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"         reader."),s("span",{style:{color:"#8250DF"}},"releaseLock"),s("span",{style:{color:"#24292F"}},"(); ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"       } ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"     })(); ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"     ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"   } "),s("span",{style:{color:"#CF222E"}},"catch"),s("span",{style:{color:"#24292F"}}," (error) { ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"     console."),s("span",{style:{color:"#8250DF"}},"error"),s("span",{style:{color:"#24292F"}},"("),s("span",{style:{color:"#0A3069"}},"'\u963F\u91CC\u4E91\u767E\u70BC API \u8C03\u7528\u5931\u8D25:'"),s("span",{style:{color:"#24292F"}},", error); ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"     "),s("span",{style:{color:"#CF222E"}},"throw"),s("span",{style:{color:"#24292F"}}," error; ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}},"   } ")]),l(`
`),s("span",{class:"line"},[s("span",{style:{color:"#24292F"}}," }")]),l(`
`),s("span",{class:"line"})])])],-1);function d(E,A,f,h,B,u){const o=t("WorkspaceToggle");return p(),r("div",null,[F,n(o,{"collapsed-height":120,title:"DeepSeek-V3"},{default:a(()=>[D]),_:1}),i,n(o,{"collapsed-height":120,title:"\u901A\u4E49\u5343\u95EEPlus"},{default:a(()=>[C]),_:1})])}const _=c(y,[["render",d]]);export{b as __pageData,_ as default};
